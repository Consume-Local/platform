<!DOCTYPE html>
<html>

  <head>
    <title>Consume Local</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_pack_tag 'stylesheets', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body class="antialiased">
    <header class="main-header">
      <div class="main-header__container">
        <div class="flex items-center">

          <%= link_to root_path , class: "mr-4" do %>
            <%= render "shared/logo" %>
          <% end %>

          <div class="relative border rounded hidden md:flex items-center mr-2">
            <div class="px-3"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="arcs"><circle cx="12" cy="10" r="3"/><path d="M12 21.7C17.3 17 20 13 20 10a8 8 0 1 0-16 0c0 3 2.7 6.9 8 11.7z"/></svg></div>
            <input class="outline-none p-2 font-bold" type="text" placeholder="text" value="Monterrey, Nuevo León">
          </div>

          <div class="relative border rounded hidden md:flex items-center">
            <div class="px-3"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="arcs"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg></div>
            <input class="outline-none p-2 font-bold" type="text" placeholder="text" value="Todas las categorías">
          </div>

        </div>
        <nav class="flex items-center">

          <% if user_signed_in? %>
            <div class="dropdown z-10">
              <button class="dropdown__toggle">
                <span class="mr-1"><%= current_user.first_name %></span>
                <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/> </svg>
              </button>
              <nav class="dropdown__menu">
                <a class="dropdown__link" href="#">Mis Negocios</a>
                <%= link_to('Cerrar Sesión', destroy_user_session_path, method: :delete, class: "dropdown__link" ) %>
              </nav>
            </div>
          <% else %>
            <a class="button secondary mr-2 hidden md:inline-block" href="#">¿Cómo puedo apoyar?</a>
            <%= link_to('Iniciar Sesión', new_user_session_path, class: "button secondary mr-2 hidden md:inline-block" ) %>  
          <% end %>
          <a class="button primary" href="#">Publicar Negocio</a>
        </nav>
      </div>
    </header>
    <%= yield %>
  </body>

</html>